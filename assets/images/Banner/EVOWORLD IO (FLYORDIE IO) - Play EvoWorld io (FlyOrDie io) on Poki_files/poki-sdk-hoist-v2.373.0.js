(()=>{var e,t,n,i,o={5:(e,t,n)=>{var i,o,r;!function(n,a){if(n){var s={},c=n.TraceKit,d=[].slice,l="?",u=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;s.noConflict=function(){return n.TraceKit=c,s},s.wrap=function(e){return function(){try{return e.apply(this,arguments)}catch(e){throw s.report(e),e}}},s.report=function(){var e,t,i,o,r=[],a=null,c=null;function d(e,t,n){var i=null;if(!t||s.collectWindowErrors){for(var o in r)if(p(r,o))try{r[o](e,t,n)}catch(e){i=e}if(i)throw i}}function l(t,n,i,o,r){if(c)s.computeStackTrace.augmentStackTraceWithInitialElement(c,n,i,t),v();else if(r)d(s.computeStackTrace(r),!0,r);else{var a,l={url:n,line:i,column:o},p=t;if("[object String]"==={}.toString.call(t)){var f=t.match(u);f&&(a=f[1],p=f[2])}l.func=s.computeStackTrace.guessFunctionName(l.url,l.line),l.context=s.computeStackTrace.gatherContext(l.url,l.line),d({name:a,message:p,mode:"onerror",stack:[l]},!0,null)}return!!e&&e.apply(this,arguments)}function f(e){d(s.computeStackTrace(e.reason),!0,e.reason)}function v(){var e=c,t=a;c=null,a=null,d(e,!1,t)}function m(e){if(c){if(a===e)return;v()}var t=s.computeStackTrace(e);throw c=t,a=e,setTimeout((function(){a===e&&v()}),t.incomplete?2e3:0),e}return m.subscribe=function(a){!function(){if(!0===t)return;e=n.onerror,n.onerror=l,t=!0}(),function(){if(!0===o)return;i=n.onunhandledrejection,n.onunhandledrejection=f,o=!0}(),r.push(a)},m.unsubscribe=function(a){for(var s=r.length-1;s>=0;--s)r[s]===a&&r.splice(s,1);0===r.length&&(t&&(n.onerror=e,t=!1),o&&(n.onunhandledrejection=i,o=!1))},m}(),s.computeStackTrace=function(){var e=!1,t={};function i(e){if("string"!=typeof e)return[];if(!p(t,e)){var i="",o="";try{o=n.document.domain}catch(e){}var r=/(.*)\:\/\/([^:\/]+)([:\d]*)\/{0,1}([\s\S]*)/.exec(e);r&&r[2]===o&&(i=function(e){if(!s.remoteFetching)return"";try{var t=function(){try{return new n.XMLHttpRequest}catch(e){return new n.ActiveXObject("Microsoft.XMLHTTP")}}();return t.open("GET",e,!1),t.send(""),t.responseText}catch(e){return""}}(e)),t[e]=i?i.split("\n"):[]}return t[e]}function o(e,t){var n,o=/function ([^(]*)\(([^)]*)\)/,r=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,a="",s=i(e);if(!s.length)return l;for(var c=0;c<10;++c)if(!f(a=s[t-c]+a)){if(n=r.exec(a))return n[1];if(n=o.exec(a))return n[1]}return l}function r(e,t){var n=i(e);if(!n.length)return null;var o=[],r=Math.floor(s.linesOfContext/2),a=r+s.linesOfContext%2,c=Math.max(0,t-r-1),d=Math.min(n.length,t+a-1);t-=1;for(var l=c;l<d;++l)f(n[l])||o.push(n[l]);return o.length>0?o:null}function a(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function c(e){return a(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function d(e,t){for(var n,o,r=0,a=t.length;r<a;++r)if((n=i(t[r])).length&&(n=n.join("\n"),o=e.exec(n)))return{url:t[r],line:n.substring(0,o.index).split("\n").length,column:o.index-n.lastIndexOf("\n",o.index)-1};return null}function u(e,t,n){var o,r=i(t),s=new RegExp("\\b"+a(e)+"\\b");return n-=1,r&&r.length>n&&(o=s.exec(r[n]))?o.index:null}function v(e){if(!f(n&&n.document)){for(var t,i,o,r,s=[n.location.href],l=n.document.getElementsByTagName("script"),u=""+e,p=0;p<l.length;++p){var v=l[p];v.src&&s.push(v.src)}if(o=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(u)){var m=o[1]?"\\s+"+o[1]:"",g=o[2].split(",").join("\\s*,\\s*");t=a(o[3]).replace(/;$/,";?"),i=new RegExp("function"+m+"\\s*\\(\\s*"+g+"\\s*\\)\\s*{\\s*"+t+"\\s*}")}else i=new RegExp(a(u).replace(/\s+/g,"\\s+"));if(r=d(i,s))return r;if(o=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(u)){var h=o[1];if(t=c(o[2]),r=d(i=new RegExp("on"+h+"=[\\'\"]\\s*"+t+"\\s*[\\'\"]","i"),s[0]))return r;if(r=d(i=new RegExp(t),s))return r}return null}}function m(e){if(!e.stack)return null;for(var t,n,i,a=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,s=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,c=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,d=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,p=/\((\S*)(?::(\d+))(?::(\d+))\)/,v=e.stack.split("\n"),m=[],g=/^(.*) is undefined$/.exec(e.message),h=0,y=v.length;h<y;++h){if(n=a.exec(v[h])){var k=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=p.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),i={url:k?null:n[2],func:n[1]||l,args:k?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=c.exec(v[h]))i={url:n[2],func:n[1]||l,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=s.exec(v[h])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=d.exec(n[3]))?(n[3]=t[1],n[4]=t[2],n[5]=null):0!==h||n[5]||f(e.columnNumber)||(m[0].column=e.columnNumber+1),i={url:n[3],func:n[1]||l,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!i.func&&i.line&&(i.func=o(i.url,i.line)),i.context=i.line?r(i.url,i.line):null,m.push(i)}return m.length?(m[0]&&m[0].line&&!m[0].column&&g&&(m[0].column=u(g[1],m[0].url,m[0].line)),{mode:"stack",name:e.name,message:e.message,stack:m}):null}function g(e,t,n,i){var a={url:t,line:n};if(a.url&&a.line){e.incomplete=!1,a.func||(a.func=o(a.url,a.line)),a.context||(a.context=r(a.url,a.line));var s=/ '([^']+)' /.exec(i);if(s&&(a.column=u(s[1],a.url,a.line)),e.stack.length>0&&e.stack[0].url===a.url){if(e.stack[0].line===a.line)return!1;if(!e.stack[0].line&&e.stack[0].func===a.func)return e.stack[0].line=a.line,e.stack[0].context=a.context,!1}return e.stack.unshift(a),e.partial=!0,!0}return e.incomplete=!0,!1}function h(e,t){for(var n,i,r,a=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,c=[],d={},p=!1,f=h.caller;f&&!p;f=f.caller)if(f!==y&&f!==s.report){if(i={url:null,func:l,args:[],line:null,column:null},f.name?i.func=f.name:(n=a.exec(f.toString()))&&(i.func=n[1]),void 0===i.func)try{i.func=n.input.substring(0,n.input.indexOf("{"))}catch(e){}if(r=v(f)){i.url=r.url,i.line=r.line,i.func===l&&(i.func=o(i.url,i.line));var m=/ '([^']+)' /.exec(e.message||e.description);m&&(i.column=u(m[1],r.url,r.line))}d[""+f]?p=!0:d[""+f]=!0,c.push(i)}t&&c.splice(0,t);var k={mode:"callers",name:e.name,message:e.message,stack:c};return g(k,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),k}function y(t,a){var s=null;a=null==a?0:+a;try{if(s=function(e){var t=e.stacktrace;if(t){for(var n,i=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,a=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,s=t.split("\n"),c=[],d=0;d<s.length;d+=2){var l=null;if((n=i.exec(s[d]))?l={url:n[2],line:+n[1],column:null,func:n[3],args:[]}:(n=a.exec(s[d]))&&(l={url:n[6],line:+n[1],column:+n[2],func:n[3]||n[4],args:n[5]?n[5].split(","):[]}),l){if(!l.func&&l.line&&(l.func=o(l.url,l.line)),l.line)try{l.context=r(l.url,l.line)}catch(e){}l.context||(l.context=[s[d+1]]),c.push(l)}}return c.length?{mode:"stacktrace",name:e.name,message:e.message,stack:c}:null}}(t),s)return s}catch(t){if(e)throw t}try{if(s=m(t))return s}catch(t){if(e)throw t}try{if(s=function(e){var t=e.message.split("\n");if(t.length<4)return null;var a,s=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,l=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,u=/^\s*Line (\d+) of function script\s*$/i,f=[],v=n&&n.document&&n.document.getElementsByTagName("script"),m=[];for(var g in v)p(v,g)&&!v[g].src&&m.push(v[g]);for(var h=2;h<t.length;h+=2){var y=null;if(a=s.exec(t[h]))y={url:a[2],func:a[3],args:[],line:+a[1],column:null};else if(a=l.exec(t[h])){y={url:a[3],func:a[4],args:[],line:+a[1],column:null};var k=+a[1],w=m[a[2]-1];if(w){var b=i(y.url);if(b){var S=(b=b.join("\n")).indexOf(w.innerText);S>=0&&(y.line=k+b.substring(0,S).split("\n").length)}}}else if(a=u.exec(t[h])){var A=n.location.href.replace(/#.*$/,""),T=d(new RegExp(c(t[h+1])),[A]);y={url:A,func:"",args:[],line:T?T.line:a[1],column:null}}if(y){y.func||(y.func=o(y.url,y.line));var Z=r(y.url,y.line),_=Z?Z[Math.floor(Z.length/2)]:null;Z&&_.replace(/^\s*/,"")===t[h+1].replace(/^\s*/,"")?y.context=Z:y.context=[t[h+1]],f.push(y)}}return f.length?{mode:"multiline",name:e.name,message:t[0],stack:f}:null}(t),s)return s}catch(t){if(e)throw t}try{if(s=h(t,a+1))return s}catch(t){if(e)throw t}return{name:t.name,message:t.message,mode:"failed"}}return y.augmentStackTraceWithInitialElement=g,y.computeStackTraceFromStackProp=m,y.guessFunctionName=o,y.gatherContext=r,y.ofCaller=function(e){e=1+(null==e?0:+e);try{throw new Error}catch(t){return y(t,e+1)}},y.getSource=i,y}(),s.extendToAsynchronousCallbacks=function(){var e=function(e){var t=n[e];n[e]=function(){var e=d.call(arguments),n=e[0];return"function"==typeof n&&(e[0]=s.wrap(n)),t.apply?t.apply(this,e):t(e[0],e[1])}};e("setTimeout"),e("setInterval")},s.remoteFetching||(s.remoteFetching=!0),s.collectWindowErrors||(s.collectWindowErrors=!0),(!s.linesOfContext||s.linesOfContext<1)&&(s.linesOfContext=11),o=[],void 0===(r="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=r)}function p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e){return void 0===e}}("undefined"!=typeof window?window:n.g)},583:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={ready:"pokiAppReady",adblocked:"pokiAppAdblocked",startLoading:"pokiAppStartLoading",ads:{completed:"pokiAdsCompleted",error:"pokiAdsError",impression:"pokiAdsImpression",durationChange:"pokiAdsDurationChange",limit:"pokiAdsLimit",ready:"pokiAdsReady",requested:"pokiAdsRequested",prebidRequested:"pokiAdsPrebidRequested",skipped:"pokiAdsSkipped",started:"pokiAdsStarted",stopped:"pokiAdsStopped",busy:"pokiAdsBusy",inFlight:"pokiAdsInflight",position:{preroll:"PP",midroll:"PM",rewarded:"PR",display:"DP"},video:{clicked:"pokiVideoAdsClicked",firstQuartile:"pokiVideoAdsFirstQuartile",midPoint:"pokiVideoAdsMidPoint",thirdQuartile:"pokiVideoAdsThirdQuartile",error:"pokiVideoAdsError",loaderError:"pokiVideoAdsLoaderError",paused:"pokiVideoAdsPauseTriggered",resumed:"pokiVideoAdsResumedTriggered",progress:"pokiVideoAdsProgress",buffering:"pokiVideoAdsBuffering",startHouseAdFlow:"pokiVideoAdsStartHouseAdFlow"},display:{error:"pokiDisplayAdsError"}},info:{messages:{timeLimit:"The ad-request was not processed, because of a time constraint",prerollLimit:"The ad-request was cancelled, because we're not allowed to show a preroll (PokiSDK.commercialBreak before PokiSDK.gameplayStart)",disabled:"The ad-request was cancelled, because we've disabled this format for this specific configuration"}},playtest:{startVideo:"pokiPlaytestStartVideo",stopVideo:"pokiPlaytestStopVideo"},message:{event:"pokiMessageEvent",sdkDetails:"pokiMessageSdkDetails",setPokiURLParams:"pokiMessageSetPokiURLParams",sendGameScreenshot:"pokiMessageSendScreenshot",sendGameRawScreenshot:"pokiMessageSendRawScreenshot",sendUploadScreenshot:"pokiMessageSendUploadScreenshot",sendCommand:"pokiMessageSendCommand",sendInspectorCookies:"pokiMessageSendInspectorCookies"},tracking:{custom:"pokiTrackingCustom",debugTrueInProduction:"pokiMessageDebugTrueProduction",screen:{gameplayStart:"pokiTrackingScreenGameplayStart",gameplayStop:"pokiTrackingScreenGameplayStop",gameLoadingFinished:"pokiTrackingScreenGameLoadingFinished",commercialBreak:"pokiTrackingScreenCommercialBreak",rewardedBreak:"pokiTrackingScreenRewardedBreak",firstRound:"pokiTrackingScreenFirstRound",roundStart:"pokiTrackingScreenRoundStart",roundEnd:"pokiTrackingScreenRoundEnd",displayAd:"pokiTrackingScreenDisplayAdRequest",destroyAd:"pokiTrackingScreenDisplayAdDestroy",playerActive:"pokiTrackingScreenPlayerActive",isAdBlockFunctionCall:"pokiTrackingScreenisAdBlockFunctionCall"},playtest:{showModal:"pokiTrackingPlaytestShowModal",accepted:"pokiTrackingPlaytestAccepted",rejected:"pokiTrackingPlaytestRejected",noCanvas:"pokiTrackingPlaytestNoCanvas",starting:"pokiTrackingPlaytestStarting",connected:"pokiTrackingPlaytestConnected"},sdk:{status:{initialized:"pokiTrackingSdkStatusInitialized",failed:"pokiTrackingSdkStatusFailed"}},ads:{status:{busy:"pokiTrackingAdsStatusBusy",completed:"pokiTrackingAdsStatusCompleted",error:"pokiTrackingAdsStatusError",impression:"pokiTrackingAdsStatusImpression",limit:"pokiTrackingAdsStatusLimit",ready:"pokiTrackingAdsStatusReady",requested:"pokiTrackingAdsStatusRequested",prebidRequested:"pokiTrackingAdsStatusPrebidRequested",skipped:"pokiTrackingAdsStatusSkipped",started:"pokiTrackingAdsStatusStarted",buffering:"pokiTrackingAdsStatusBuffering"},video:{clicked:"pokiTrackingAdsVideoClicked",error:"pokiTrackingAdsVideoError",loaderError:"pokiTrackingAdsVideoLoaderError",progress:"pokiTrackingAdsVideoProgress",paused:"pokiTrackingAdsVideoPaused",resumed:"pokiTrackingAdsVideoResumed"},display:{requested:"pokiTrackingScreenDisplayAdRequested",impression:"pokiTrackingScreenDisplayAdImpression"},rewardedWeb:{request:"pokiTrackingRewardedWebRequest",ready:"pokiTrackingRewardedWebReady",impression:"pokiTrackingRewardedWebImpression",closedGranted:"pokiTrackingRewardedWebClosedGranted",closedDeclined:"pokiTrackingRewardedWebclosedDeclined",empty:"pokiTrackingRewardedWebEmpty"}}}}},981:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var i=n(5),o=n.n(i),r=n(583),a=n(57),s=n(513);function c(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}}var d=n(906);var l=n(262),u=Date.now(),p=Math.random().toString(36).substr(2,9);function f(e){if(l.Z.gameID&&!l.Z.isPlayground){if(!(Date.now()<u))try{var t=JSON.stringify({gid:l.Z.gameID,vid:l.Z.versionID,ve:7,n:e.name,m:e.message,s:JSON.stringify(e.stack),ui:p}),n="https://t.poki.io/ge";if(navigator.sendBeacon)navigator.sendBeacon(n,t);else{var i=new XMLHttpRequest;i.open("POST",n,!0),i.send(t)}u=Date.now()+100}catch(e){console.error(e)}}else console.log(e)}"undefined"==typeof window||l.Z.isPlayground||(o().remoteFetching=!1,o().report.subscribe((function(e){if("Script error."===e.message&&window.pokiLastCatch){var t=window.pokiLastCatch;window.pokiLastCatch=null;try{o().report(t)}catch(e){}}else f(e)})),window.addEventListener("unhandledrejection",(function(e){if(c(e.reason))try{o().report(e.reason)}catch(e){}else f({name:"unhandledrejection",message:JSON.stringify(e.reason)})})));var v=n(298),m=n(687),g=n(272),h=n(128),y=function(){return y=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},y.apply(this,arguments)},k=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},w=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(n=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};const b=function(){function e(t){var o=this;this.gameStarted=!1,this.duringGameplay=!1,this.fpsStats=new g.V(.01),this.gameCanvas=null,this.lastInteractionTime=0,this.asyncScreenshotLoader=function(){window.addEventListener("message",(function(e){return k(o,void 0,void 0,(function(){var t;return w(this,(function(i){switch(i.label){case 0:return"pokiGenerateScreenshot"!==e.data.type?[3,2]:[4,Promise.all([n.e(813),n.e(206)]).then(n.bind(n,206))];case 1:return(0,i.sent().takeAndUploadScreenshotWithFrameData)(e.data),[3,7];case 2:return"pokiGenerateRawScreenshot"!==e.data.type?[3,4]:[4,Promise.all([n.e(813),n.e(206)]).then(n.bind(n,206))];case 3:return(0,i.sent().takeRawScreenshot)(),[3,7];case 4:return"pokiUploadScreenshot"!==e.data.type?[3,7]:[4,Promise.all([n.e(813),n.e(206)]).then(n.bind(n,206))];case 5:return[4,(0,i.sent().uploadScreenshot)(e.data)];case 6:t=i.sent(),s.Z.sendMessage(r.Z.message.sendUploadScreenshot,{data:{screenshot:t}}),i.label=7;case 7:return[2]}}))}))}),!1)},this.setupInspector=function(){var e=0;window.addEventListener("message",(function(t){return k(o,void 0,void 0,(function(){return w(this,(function(n){var i,o;return"pokiInspectorRequestCookies"===t.data.type?(0,h.$)().then((function(e){s.Z.sendMessage(r.Z.message.sendInspectorCookies,{data:{cookies:e}})})):"pokiInspectorSetFPS"===t.data.type&&(e=t.data.fps||0)&&(i=performance.now(),o=function(){if(e){for(var t=i+1e3/e;!((i=performance.now())>=t););requestAnimationFrame(o)}},requestAnimationFrame(o)),[2]}))}))}),!1)},this.initWithVideoHB=function(){return o.init()},this.setDebug=function(e){void 0===e&&(e=!0);var t=window.location.hostname;t.endsWith("poki-gdn.com")||"qa-files.poki.com"===t?e&&a.Z.track(r.Z.tracking.debugTrueInProduction):(v.Z.debug=e,v.Z.log=null!=e?e:v.Z.log)},this.setLogging=function(e){v.Z.log=e},this.gameLoadingFinished=function(){var e,t,n,i,o;try{n=performance.getEntriesByType("resource").map((function(e){return e.transferSize})).reduce((function(e,t){return e+t})),n+=performance.getEntriesByType("navigation")[0].transferSize}catch(e){}a.Z.track(r.Z.tracking.screen.gameLoadingFinished,{transferSize:n,trackers:(i=window,o=[],"function"!=typeof i.ga&&"function"!=typeof i.gtag||o.push("ga"),i.mixpanel&&"function"==typeof i.mixpanel.track&&o.push("mixpanel"),"function"==typeof i.GameAnalytics&&o.push("gameanalytics"),(i.kongregateAPI||i.kongregate)&&o.push("kongregate"),i.FlurryAgent&&o.push("flurry"),i.Countly&&o.push("countly"),i.amplitude&&o.push("amplitude"),o).join(","),error_session_id:p,now:Math.round(null===(t=null===(e=window.performance)||void 0===e?void 0:e.now)||void 0===t?void 0:t.call(e))||void 0})},this.gameplayStart=function(e){o.duringGameplay=!0,o.gameStarted||(o.gameStarted=!0,a.Z.track(r.Z.tracking.screen.firstRound),o.monetization.startStartAdsAfterTimer()),a.Z.track(r.Z.tracking.screen.gameplayStart,y(y({},e),{fps:o.fpsStats.stats()})),clearTimeout(o.playerActiveTimeout),o.playerActiveTimeout=setTimeout((function(){o.gameCanvas&&o.gameCanvas.addEventListener("pointermove",o.playerIsActiveEvent),window.addEventListener("pointermove",o.playerIsActiveEvent),document.addEventListener("keydown",o.playerIsActiveEvent)}),6e5)},this.gameplayStop=function(e){o.duringGameplay=!1,a.Z.track(r.Z.tracking.screen.gameplayStop,y(y({},e),{fps:o.fpsStats.stats()})),clearTimeout(o.playerActiveTimeout),o.gameCanvas&&o.gameCanvas.removeEventListener("pointermove",o.playerIsActiveEvent),window.removeEventListener("pointermove",o.playerIsActiveEvent),document.removeEventListener("keydown",o.playerIsActiveEvent)},this.roundStart=function(e){void 0===e&&(e=""),e=String(e),a.Z.track(r.Z.tracking.screen.roundStart,{identifier:e})},this.roundEnd=function(e){void 0===e&&(e=""),e=String(e),a.Z.track(r.Z.tracking.screen.roundEnd,{identifier:e})},this.customEvent=function(e,t,n){void 0===n&&(n={}),e&&t?(e=String(e),t=String(t),n=y({},n),a.Z.track(r.Z.tracking.custom,{eventNoun:e,eventVerb:t,eventData:n})):o.error("customEvent","customEvent needs at least a noun and a verb")},this.commercialBreak=function(e){return new Promise((function(t){var n=o.gameStarted?r.Z.ads.position.midroll:r.Z.ads.position.preroll;o.monetization.requestAd({position:n,onFinish:t,onStart:e})}))},this.rewardedBreak=function(e,t,n,i){return new Promise((function(a){var s,c={};"function"==typeof e?(s=e,void 0!==t&&(c.category=t),void 0!==n&&(c.details=n),void 0!==i&&(c.placement=i)):(void 0!==e&&(c.category=e),void 0!==t&&(c.details=t),void 0!==n&&(c.placement=n)),setTimeout((function(){c.category&&performance.now()-o.lastInteractionTime<500&&(c.from=o.lastInteractionEvent);var e=r.Z.ads.position.rewarded;o.monetization.requestAd({position:e,onFinish:function(e){a(!!(null==e?void 0:e.rewardAllowed))},onStart:s,rewardedKVs:c})}),0)}))},this.displayAd=function(e,t,n,i){var s=(0,m.Z)();a.Z.track(r.Z.tracking.screen.displayAd,{size:t,opportunityId:s,duringGameplay:o.duringGameplay});var c={container:e,opportunityId:s,size:t,duringGameplay:function(){return o.duringGameplay},onCanDestroy:n,onDisplayRendered:i};o.monetization.displayAd(c)},this.isAdBlocked=function(){return"GB"!==l.Z.country&&o.monetization.isAdBlocked()},this.muteAd=function(){o.monetization.muteAd()},this.logError=function(e){o.captureError(e)},this.setPlaytestCanvas=function(t){e.playtestCanvas=t},this.getIsoLanguage=function(){return(0,d.Z)("iso_lang")},this.shareableURL=function(e){return void 0===e&&(e={}),new Promise((function(t,n){var i=new URLSearchParams,o=Object.keys(e);if(l.Z.isPokiIframe){var a=(0,d.Z)("poki_url");o.forEach((function(t){void 0!==e[t]&&null!==e[t]&&i.set("gd".concat(t),e[t])})),t("".concat(a,"?").concat(i.toString())),s.Z.sendMessage(r.Z.message.setPokiURLParams,{params:e})}else window.self===window.top?(o.forEach((function(t){void 0!==e[t]&&null!==e[t]&&i.set("".concat(t),e[t])})),t("".concat(window.location.origin).concat(window.location.pathname,"?").concat(i.toString()))):n(new Error("shareableURL only works on Poki or a top level frame"))}))},this.getURLParam=function(e){return(0,d.Z)("gd".concat(e))||(0,d.Z)(e)},this.captureError=function(e){try{c(e)?i.report(e):i.report(new Error(e))}catch(e){}},this.getLanguage=function(){return navigator.language.toLowerCase().split("-")[0]},this.generateScreenshot=function(){return k(o,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,Promise.all([n.e(813),n.e(206)]).then(n.bind(n,206))];case 1:return[2,(0,e.sent().takeAndUploadScreenshot)()]}}))}))},this.enableEventTracking=function(e){window.top===window&&a.Z.setupObserverWithCMP(e||0)},this.error=function(e,t){console.error("PokiSDK.".concat(e,": ").concat(t))},this.playerIsActiveEvent=function(){o.gameCanvas&&o.gameCanvas.removeEventListener("pointermove",o.playerIsActiveEvent),window.removeEventListener("pointermove",o.playerIsActiveEvent),document.removeEventListener("keydown",o.playerIsActiveEvent),a.Z.track(r.Z.tracking.screen.playerActive),o.playerActiveTimeout=setTimeout((function(){o.gameCanvas&&o.gameCanvas.addEventListener("pointermove",o.playerIsActiveEvent),window.addEventListener("pointermove",o.playerIsActiveEvent),document.addEventListener("keydown",o.playerIsActiveEvent)}),6e5)},this.interactionEvent=function(e){"mousedown"===e.type?o.lastInteractionEvent="mousedown":"pointerdown"===e.type?o.lastInteractionEvent="pointerdown":"keydown"===e.type&&(o.lastInteractionEvent="keydown-".concat(e.code)),o.lastInteractionTime=performance.now()},this.setDebugTouchOverlayController=function(){},this.gameInteractive=function(){},this.gameLoadingProgress=function(){},this.gameLoadingStart=function(){},this.getLeaderboard=function(){return Promise.resolve([])},this.happyTime=function(){},this.sendHighscore=function(){},this.setPlayerAge=function(){},this.__pokiInternal__playgroundPlatformAd=function(e,t,n,i){var s=(0,m.Z)();a.Z.track(r.Z.tracking.screen.displayAd,{size:n,opportunityId:s,platformAd:!0});var c={container:e,opportunityId:s,size:n,adUnitPath:t,criteria:i,backfillHouseads:!0,platformAd:!0,duringGameplay:function(){return!1}};o.monetization.displayAd(c)},this.__pokiInternal__setRuntimeInformation=function(e){void 0===e&&(e={}),Object.keys(e).forEach((function(t){(0,l.w)(t,e[t])}))},this.monetization=t,this.SDK=this.monetization}return e.prototype.init=function(t){var n=this;if(void 0===t&&(t={}),this.gameCanvas=e.getGameCanvas(),this.gameCanvas)this.gameCanvas.addEventListener("pointerdown",this.interactionEvent);else var i=240,o=setInterval((function(){n.gameCanvas=e.getGameCanvas(),n.gameCanvas&&(clearInterval(o),n.gameCanvas.addEventListener("pointerdown",n.interactionEvent)),0==--i&&clearInterval(o)}),500);return window.addEventListener("pointerdown",this.interactionEvent),window.addEventListener("mousedown",this.interactionEvent),document.addEventListener("keydown",this.interactionEvent),new Promise((function(e,i){n.monetization.init(y({onReady:function(){(0,d.Z)("preroll")&&n.monetization.forcePreroll(),e()},onAdblocked:i},t)),n.asyncScreenshotLoader(),("inspector-uploads.poki-user-content.com"===window.location.hostname||document.referrer.startsWith("https://inspector.poki.dev/"))&&n.setupInspector(),s.Z.sendMessage(r.Z.message.sdkDetails,{version:"2.373.0"})}))},e.prototype.destroyAd=function(e){this.monetization.destroyAd(e)},e.prototype.setVolume=function(e){this.monetization.setVolume(e)},e.getGameCanvas=function(){var t=e.playtestCanvas;if(t)return t;var n=null,i=0;return Array.from(document.querySelectorAll("canvas")).forEach((function(e){if("true"!==e.getAttribute("data-no-playtest")){var t=getComputedStyle(e),o=t.width,r=t.height,a=t.display,s=t.visibility,c=parseInt(o,10)*parseInt(r,10);"none"!==a&&"visible"===s&&c>i&&(i=c,n=e)}})),n},e}()},513:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(583);const o=function(e,t){var n=!1;return Object.keys(t).forEach((function(i){t[i]===e&&(n=!0)})),n};var r=n(262);const a=function(){function e(){}return e.sendMessage=function(e,t,n){if(void 0===n&&(n=window.parent),!o(e,i.Z.message)){var a=Object.keys(i.Z.message).map((function(e){return"poki.message.".concat(e)}));throw new TypeError("Argument 'type' must be one of ".concat(a.join(", ")))}var s=t||{};r.Z.gameID&&r.Z.versionID&&(s.pokifordevs={game_id:r.Z.gameID,game_version_id:r.Z.versionID}),null==n||n.postMessage({type:e,content:s},"*")},e}()},58:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(298),o=function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};const r=function(){function e(){}return e.clearEventListeners=function(){this.listeners={}},e.removeEventListener=function(e,t){if(Object.prototype.hasOwnProperty.call(this.listeners,e)){var n=this.listeners[e].indexOf(t);-1!==n&&this.listeners[e].splice(n,1)}},e.addEventListener=function(e,t,n){var i=this;if(void 0===n&&(n=!1),n=!!n,Object.prototype.hasOwnProperty.call(this.listeners,e)||(this.listeners[e]=[]),n){var o=function(n){i.removeEventListener.bind(i)(e,o),t(n)};this.listeners[e].push(o)}else this.listeners[e].push(t)},e.dispatchEvent=function(e,t){var n,r;void 0===t&&(t={}),i.Z.debug&&"test"!==(null===(r=null===(n=null===window||void 0===window?void 0:window.process)||void 0===n?void 0:n.env)||void 0===r?void 0:r.NODE_ENV)&&console.info(e,t);for(var a=Object.keys(this.listeners),s=0;s<a.length;s++){var c=a[s];if(e===c)for(var d=this.listeners[c],l=0;l<d.length;l++)d[l](o(o({},this.dataAnnotations),t))}},e.setVideoDataAnnotations=function(e){this.dataAnnotations=o(o({},this.dataAnnotations),e)},e.getVideoDataAnnotations=function(){return this.dataAnnotations},e.clearVideoDataAnnotations=function(){this.dataAnnotations={}},e.listeners={},e.dataAnnotations={},e}()},128:(e,t,n)=>{"use strict";n.d(t,{$:()=>c,Z:()=>d});var i=n(262),o=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},r=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(n=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},a=function(e,t,n){if(n||2===arguments.length)for(var i,o=0,r=t.length;o<r;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))},s=Math.random().toString(36).substr(2,9);function c(){return o(this,void 0,void 0,(function(){var e,t,n;return r(this,(function(i){switch(i.label){case 0:return[4,window.cookieStore.getAll()];case 1:return e=i.sent(),window.indexedDB.databases?[4,window.indexedDB.databases()]:[3,3];case 2:return n=i.sent(),[3,4];case 3:n=[],i.label=4;case 4:return t=n,[2,a(a(a([],e.map((function(e){return{name:e.name,expire_seconds:Math.round((e.expires-Date.now())/1e3),type:"cookie",domain:e.domain}})),!0),Object.keys(window.localStorage).map((function(e){return{name:e,expire_seconds:15552e3,type:"localStorage"}})),!0),t.map((function(e){return{name:e.name,expire_seconds:0,type:"idb"}})),!0)]}}))}))}const d=function(){function e(){}return e.collectAndLog=function(){return o(this,void 0,void 0,(function(){var e,t;return r(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t={},[4,c()];case 1:return t.cookies=n.sent(),t.p4d_game_id=i.Z.gameID,t.user_id=s,e=t,window.fetch("https://t.poki.io/game-cookies",{method:"post",body:JSON.stringify(e)}).catch(),[3,3];case 2:return n.sent(),[3,3];case 3:return[2]}}))}))},e.trackSavegames=function(){window.cookieStore&&window.cookieStore.getAll&&i.Z.gameID&&(Math.random()>("GB"===i.Z.country?.5:.01)||navigator.userAgent.indexOf("Safari")>-1&&navigator.userAgent.indexOf("Chrome")<=-1||(e.collectAndLog(),setInterval(e.collectAndLog,12e4)))},e}()},57:(e,t,n)=>{"use strict";function i(e){var t=new RegExp("".concat(e,"=([^;]+)(?:;|$)")).exec(document.cookie);return t?t[1]:""}function o(e,t,n){document.cookie="".concat(e,"=").concat(t,"; path=/; samesite=lax; max-age=").concat(Math.min(n||15552e3,15552e3))}function r(){for(var e=Math.floor(Date.now()/1e3),t="",n=0;n<4;n++)t=String.fromCharCode(255&e)+t,e>>=8;if(window.crypto&&crypto.getRandomValues&&Uint32Array){var i=new Uint32Array(12);crypto.getRandomValues(i);for(var o=0;o<12;o++)t+=String.fromCharCode(255&i[o])}else for(var r=0;r<12;r++)t+=String.fromCharCode(Math.floor(256*Math.random()));return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}n.d(t,{Z:()=>x});function a(e,t,n){console.error(e);var i=[{k:"where",v:t},{k:"error",v:e.name&&e.message?"".concat(e.name,": ").concat(e.message):JSON.stringify(e)}];if(void 0!==n){var o=n;"string"!=typeof e&&(o=JSON.stringify(e)),i.push({k:"extra",v:o})}!function(e,t){if(navigator.sendBeacon){var n=navigator.sendBeacon.bind(navigator);try{if(n(e,t))return}catch(e){console.error(e)}}try{var i="XMLHttpRequest"in window?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");i.open("POST",e,!0),i.setRequestHeader("Content-Type","text/plain"),i.send(t)}catch(e){}}("https://t.poki.io/l",JSON.stringify({c:"observer-error",ve:7,d:i}))}window._pokiUserGlobalName=window._pokiUserGlobalName||"user";var s="poki_session";function c(e){return!(!e||!(e&&e.page&&e.landing_page&&e.previous_page)||!e.tab_id||!e.expire||Date.now()>e.expire||e.expire>Date.now()+18e5)}function d(){var e=null;c(window[window._pokiSessionGlobalName])&&(e=window[window._pokiSessionGlobalName]);try{var t=JSON.parse(sessionStorage.getItem(s));c(t)&&(!e||t.depth>e.depth)&&(e=t)}catch(e){try{a(e,"getTabSession",sessionStorage.getItem(s))}catch(t){a(e,"getTabSession",t)}}return e}function l(){var e=d();return e?e.tab_id:r()}function u(){var e=0,t=d();t&&(e=t.depth);try{var n=JSON.parse(i(s)||null);c(n)&&(e=Math.max(e,n.depth))}catch(e){var o=null;try{o=i(s)||null}catch(e){}a(e,"getSessionDepth",o)}return e}function p(){try{var e=i("ses_cnt");return e&&parseInt(e,10)||0}catch(e){return 0}}window._pokiSessionGlobalName=window._pokiSessionGlobalName||"session";var f=n(583),v=n(513),m=n(298),g=function(e){var t=new Array;return Object.keys(e).forEach((function(n){"object"==typeof e[n]?t=t.concat(g(e[n])):t.push(e[n])})),t};const h=g;var y=n(262),k=n(58),w=function(){return w=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},w.apply(this,arguments)};const b=function(e){var t;if("undefined"!=typeof window&&"undefined"!=typeof fetch){var n=k.Z.getVideoDataAnnotations(),i=e.size;(null===(t=e.event)||void 0===t?void 0:t.startsWith("video-"))&&(i="640x360v");var o=w(w({},e),{size:i,opportunity_id:e.opportunityId||n.opportunityId,ad_unit_path:e.adUnitPath||n.adUnitPath,p4d_game_id:y.Z.gameID,p4d_version_id:y.Z.versionID,bidder:e.bidder||n.bidder,bid:e.bid||n.bid||0,error_code:e.errorCode,creative_id:e.creativeId||n.creativeId,experiment:y.Z.experiment});m.Z.debug?console.log("PokiAdServer Tracking: ",o):fetch("https://t.poki.io/adserver",{method:"POST",mode:"no-cors",body:JSON.stringify(o)})}};const S=function(e){return new Promise((function(t,n){var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=e;var o=function(){i.readyState&&"loaded"!==i.readyState&&"complete"!==i.readyState||(t(),i.onload=null,i.onreadystatechange=null)};i.onload=o,i.onreadystatechange=o,i.onerror=n,document.head.appendChild(i)}))};var A=function(){return A=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},A.apply(this,arguments)},T=h(f.Z.tracking),Z=window,_=function(){function e(){}return e.track=function(t,n){var i,o;if(void 0===n&&(n={}),-1===T.indexOf(t))throw new TypeError("Invalid 'event', must be one of ".concat(T.join(", ")));if("object"!=typeof n)throw new TypeError("Invalid data, must be an object");var r=k.Z.getVideoDataAnnotations();if(null==r?void 0:r.pokiAdServer)switch(t){case f.Z.tracking.ads.status.impression:b(A(A({},n),{event:"video-impression",creativeId:null==n?void 0:n.creativeId}));break;case f.Z.tracking.ads.video.error:b(A(A({},n),{event:"video-error",errorCode:null==n?void 0:n.errorCode}));break;case f.Z.tracking.ads.video.loaderError:b(A(A({},n),{event:"video-adsloader-error",errorCode:null==n?void 0:n.errorCode}));break;case f.Z.tracking.ads.status.completed:b(A(A({},n),{event:"video-complete"}))}if(t.includes("pokiTrackingRewardedWeb")&&(n=r),m.Z.log){if("test"===(null===(o=null===(i=null===window||void 0===window?void 0:window.process)||void 0===i?void 0:i.env)||void 0===o?void 0:o.NODE_ENV))return;Object.keys(n).length?console.info("%cPOKI_TRACKER:%c Tracked event '".concat(t,"' with data:"),"font-weight: bold","",n):console.info("%cPOKI_TRACKER:%c Tracked event '".concat(t,"'"),"font-weight: bold","")}e.playtestMessageCallback({event:t,data:n}),e.logToObserver?e.pushEvent("sdk","message",{content:{event:t,data:n,pokifordevs:{game_id:y.Z.gameID,game_version_id:void 0}},type:f.Z.message.event,origin:"game"}):v.Z.sendMessage(f.Z.message.event,{event:t,data:n})},e.setMessageCallback=function(t){e.playtestMessageCallback=t},e.setupDefaultEvents=function(){var t,n=((t={})[f.Z.ready]=f.Z.tracking.sdk.status.initialized,t[f.Z.adblocked]=f.Z.tracking.sdk.status.failed,t[f.Z.ads.busy]=f.Z.tracking.ads.status.busy,t[f.Z.ads.completed]=f.Z.tracking.ads.status.completed,t[f.Z.ads.error]=f.Z.tracking.ads.status.error,t[f.Z.ads.impression]=f.Z.tracking.ads.status.impression,t[f.Z.ads.limit]=f.Z.tracking.ads.status.limit,t[f.Z.ads.ready]=f.Z.tracking.ads.status.ready,t[f.Z.ads.requested]=f.Z.tracking.ads.status.requested,t[f.Z.ads.prebidRequested]=f.Z.tracking.ads.status.prebidRequested,t[f.Z.ads.skipped]=f.Z.tracking.ads.status.skipped,t[f.Z.ads.started]=f.Z.tracking.ads.status.started,t[f.Z.ads.video.clicked]=f.Z.tracking.ads.video.clicked,t[f.Z.ads.video.error]=f.Z.tracking.ads.video.error,t[f.Z.ads.video.loaderError]=f.Z.tracking.ads.video.loaderError,t[f.Z.ads.video.buffering]=f.Z.tracking.ads.status.buffering,t[f.Z.ads.video.progress]=f.Z.tracking.ads.video.progress,t[f.Z.ads.video.paused]=f.Z.tracking.ads.video.paused,t[f.Z.ads.video.resumed]=f.Z.tracking.ads.video.resumed,t[f.Z.tracking.screen.gameplayStart]=f.Z.tracking.screen.gameplayStart,t[f.Z.tracking.screen.gameplayStop]=f.Z.tracking.screen.gameplayStop,t[f.Z.tracking.screen.commercialBreak]=f.Z.tracking.screen.commercialBreak,t[f.Z.tracking.screen.rewardedBreak]=f.Z.tracking.screen.rewardedBreak,t[f.Z.tracking.screen.isAdBlockFunctionCall]=f.Z.tracking.screen.isAdBlockFunctionCall,t);Object.keys(n).forEach((function(t){k.Z.addEventListener(t,(function(i){e.track(n[t],i)}))}))},e.pushEvent=function(e,t,n){Z.pokiGTM.push({event:"".concat(e,"-").concat(t),eventNoun:e,eventVerb:t,eventData:n||{}})},e.setRequireConsent=function(t){e.cmpRequired=t,e.setupObserverIfCMP()},e.setupObserverWithCMP=function(t){e.cmpIndex=t,e.setupObserverIfCMP()},e.setupObserverIfCMP=function(){if(void 0!==e.cmpRequired&&void 0!==e.cmpIndex)if(e.cmpRequired){if(!window.__tcfapi)return void console.error("POKI-SDK: enableEventTracking: a CMP is required but no CMP is present.");window.__tcfapi("addEventListener",2,(function(t,n){!n||"tcloaded"!==t.eventStatus&&"useractioncomplete"!==t.eventStatus||(window.__tcfapi("getNonIABVendorConsents",2,(function(t){t&&t.nonIabVendorConsents&&t.nonIabVendorConsents[e.cmpIndex||0]&&e.setupObserver()})),window.__tcfapi("removeEventListener",2,(function(){}),t.listenerId))}))}else e.setupObserver()},e.setupObserver=function(){Z._pokiSessionGlobalName="pokiSession",Z._pokiUserGlobalName="pokiUser",Z._pokiContextGlobalName="pokiContext",Z._pokiTrackerGlobalName="pokiTracker",function(e,t,n){var f=null;try{c(f=d())?(f.previous_page.path=f.page.path,f.previous_page.type=f.page.type,f.previous_page.id=f.page.id,f.previous_page.start=f.page.start,f.previous_page.pageview_id=f.page.pageview_id,f.page.path=e,f.page.type=t,f.page.id=n,f.page.start=Date.now(),f.page.pageview_id=r(),f.depth=u()+1,f.expire=Date.now()+18e5):f=function(e,t,n){try{var d=JSON.parse(i(s)||null);if(c(d))return d.previous_page.path=d.page.path,d.previous_page.type=d.page.type,d.previous_page.id=d.page.id,d.previous_page.start=d.page.start,d.previous_page.pageview_id=d.page.pageview_id,d.page.path=e,d.page.type=t,d.page.id=n,d.page.start=Date.now(),d.page.pageview_id=r(),d.depth=u()+1,d.expire=Date.now()+18e5,d.tab_id=l(),o(s,JSON.stringify(d)),d}catch(e){var f=null;try{f=i(s)||null}catch(e){}a(e,"getSessionDepth",f)}var v=r();return{id:r(),expire:Date.now()+18e5,tab_id:l(),depth:1,count:p()+1,page:{path:e,type:t,id:n,start:Date.now(),pageview_id:v},previous_page:{},landing_page:{path:e,type:t,id:n,start:Date.now(),pageview_id:v}}}(e,t,n);try{o("ses_cnt",f.count)}catch(e){a(e,"updateSession-3")}f.count>1&&function(){try{o("uid_new","0"),sessionStorage.setItem("uid_new","0")}catch(e){}window[window._pokiUserGlobalName]&&(window[window._pokiUserGlobalName].is_new=!1)}();var v=JSON.stringify(f);try{sessionStorage.setItem(s,v)}catch(e){a(e,"updateSession-1")}window[window._pokiSessionGlobalName]=f;try{o(s,v)}catch(e){a(e,"updateSession-4")}}catch(e){a(e,"updateSession-2")}}(window.location.pathname,"external",y.Z.contentGameID),function(){var e,t,n=null===(e=window[window._pokiUserGlobalName])||void 0===e?void 0:e.id,a=(null===(t=window[window._pokiUserGlobalName])||void 0===t?void 0:t.is_new)||!1;if(!n)try{n=sessionStorage.getItem("uid"),a="1"===sessionStorage.getItem("uid_new")}catch(e){}n||(n=i("uid"),a="1"===i("uid_new")),n||(n=r(),a=!0),o("uid",n),o("uid_new",a?"1":"0");try{sessionStorage.setItem("uid",n),sessionStorage.setItem("uid_new",a?"1":"0")}catch(e){}window[window._pokiUserGlobalName]={id:n,is_new:a}}(),Z[Z._pokiContextGlobalName]={tag:null,site:{id:null,domain:window.location.hostname,prefix:""},page:{id:y.Z.contentGameID,type:"external",path:window.location.pathname,pageview_id:r()},user:Z[Z._pokiUserGlobalName],session:Z[Z._pokiSessionGlobalName]},Z.pokiGTM=Z.pokiGTM||[],S("https://a.poki.com/t2.js"),e.logToObserver=!0},e.logToObserver=!1,e.cmpRequired=void 0,e.cmpIndex=void 0,e.playtestMessageCallback=function(){},e}();const x=_},298:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(262);const o=function(){function e(){}return e.debug=!1,e.log=!1,e.init=function(t,n){var o,r,a=window.location.hostname;void 0===t&&("test"===(null===(r=null===(o=null===window||void 0===window?void 0:window.process)||void 0===o?void 0:o.env)||void 0===r?void 0:r.NODE_ENV)?(t=!1,void 0===n&&(n=!1)):"localhost"===a||"127.0.0.1"===a||"[::1]"===a?(t=!0,void 0===n&&(n=!1)):(t=!1,void 0===n&&(n=!1))),a.endsWith(".poki-gdn.com")?(t=!1,n=!1):"qa-files.poki.com"!==a&&"inspector-uploads.poki-user-content.com"!==a||(t=!0,n=!0),i.Z.debugMode&&(t=!0),i.Z.logMode&&(n=!0),void 0===n&&(n=t),e.debug=t,e.log=n},e}()},272:(e,t,n)=>{"use strict";n.d(t,{V:()=>o});function i(e){return Math.round(100*e)/100}var o=function(){function e(e){var t=this;this.seconds=[],this.frameCounter=0,Math.random()>e||window.requestAnimationFrame&&-1!==window.requestAnimationFrame.toString().indexOf("[native code]")&&(this.nextSecond=performance.now()+1e3,window.requestAnimationFrame((function(){t.frame()})))}return e.prototype.frame=function(){for(var e=this,t=performance.now();t>=this.nextSecond;)this.seconds.unshift(this.frameCounter),this.seconds.length>10&&this.seconds.pop(),this.frameCounter=0,this.nextSecond+=1e3;this.frameCounter++,window.requestAnimationFrame((function(){e.frame()}))},e.prototype.stats=function(){var e=this;if(0!==this.seconds.length){var t=Math.min.apply(Math,this.seconds),n=Math.max.apply(Math,this.seconds),o=i(this.seconds.reduce((function(e,t){return e+t}),0)/this.seconds.length),r=i(this.seconds.slice(1).map((function(t,n){return Math.abs(t-e.seconds[n])})).reduce((function(e,t){return e+t}),0)/(this.seconds.length-1));return"".concat(t,"|").concat(n,"|").concat(o,"|").concat(r)}},e}()},687:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(){for(var e=Math.floor(Date.now()/1e3),t="",n=0;n<4;n++)t=String.fromCharCode(255&e)+t,e>>=8;if(window.crypto&&crypto.getRandomValues&&Uint32Array){var i=new Uint32Array(12);crypto.getRandomValues(i);for(n=0;n<12;n++)t+=String.fromCharCode(255&i[n])}else for(n=0;n<12;n++)t+=String.fromCharCode(Math.floor(256*Math.random()));return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}},906:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e,t){var n;if("undefined"==typeof window&&!t)return"";e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("(?:[\\?&]|^)".concat(e,"=([^&#]*)")).exec(t||(null===(n=null===window||void 0===window?void 0:window.location)||void 0===n?void 0:n.search)||"");return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))}},893:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(){return"undefined"!=typeof navigator&&/(?:phone|windows\s+phone|ipod|blackberry|(?:android|bb\d+|meego|silk|googlebot) .+? mobile|palm|windows\s+ce|opera\smini|avantgo|mobilesafari|docomo)/i.test(navigator.userAgent)}},573:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(){return"undefined"!=typeof navigator&&/(?:ipad|playbook|(?:android|bb\d+|meego|silk)(?! .+? mobile))/i.test(navigator.userAgent)}},262:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u,w:()=>l});var i=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","GB","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","IS","LI","NO"];var o=n(906),r=n(893),a=n(573);var s,c=(0,o.Z)("url_referrer")||"",d={bot:"1"===(0,o.Z)("bot"),categories:(0,o.Z)("categories")||"",device:(0,r.Z)()?"mobile":(0,a.Z)()?"tablet":"desktop",experiment:(0,o.Z)("experiment")||"",forceAd:(0,o.Z)("force_ad")||!1,isPokiIframe:(parseInt((0,o.Z)("site_id"),10)||0)>0,siteID:parseInt((0,o.Z)("site_id"),10)||0,tag:(0,o.Z)("tag")||"",versionID:(0,o.Z)("game_version_id"),debugMode:"true"===(0,o.Z)("pokiDebug"),logMode:""!==(0,o.Z)("pokiLogging"),playtest:(0,o.Z)("playtest"),testVideos:"true"===(0,o.Z)("testVideos"),referrer:c,isPlayground:!!window.isPokiPlayground,ccpaApplies:(0,o.Z)("ccpaApplies"),country:((0,o.Z)("country")||"").toUpperCase(),gameID:(0,o.Z)("game_id"),gdprApplies:(s=((0,o.Z)("country")||"").toUpperCase(),i.includes(s)),contentGameID:void 0,runningOnPlayground:!1,specialCondition:(0,o.Z)("special_condition"),nonPersonalized:"y"===(0,o.Z)("nonPersonalized"),familyFriendly:"y"===(0,o.Z)("familyFriendly")},l=function(e,t){d[e]=t};const u=d}},r={};function a(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={exports:{}};return o[e].call(n.exports,n,n.exports,a),n.exports}a.m=o,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"==typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"==typeof n.then)return n}var o=Object.create(null);a.r(o);var r={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>r[e]=()=>n[e]));return r.default=()=>n,a.d(o,r),o},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>e+".poki-sdk-hoist-v2.373.0.js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},i="@poki/poki-sdk:",a.l=(e,t,o,r)=>{if(n[e])n[e].push(t);else{var s,c;if(void 0!==o)for(var d=document.getElementsByTagName("script"),l=0;l<d.length;l++){var u=d[l];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==i+o){s=u;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",i+o),s.src=e),n[e]=[t];var p=(t,i)=>{s.onerror=s.onload=null,clearTimeout(f);var o=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(i))),t)return t(i)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),c&&document.head.appendChild(s)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{var e={453:0};a.f.j=(t,n)=>{var i=a.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var o=new Promise(((n,o)=>i=e[t]=[n,o]));n.push(i[2]=o);var r=a.p+a.u(t),s=new Error;a.l(r,(n=>{if(a.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",s.name="ChunkLoadError",s.type=o,s.request=r,i[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,o,[r,s,c]=n,d=0;if(r.some((t=>0!==e[t]))){for(i in s)a.o(s,i)&&(a.m[i]=s[i]);if(c)c(a)}for(t&&t(n);d<r.length;d++)o=r[d],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunk_poki_poki_sdk=self.webpackChunk_poki_poki_sdk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e=a(981),t=a(583),n=a(513),i=a(687),o=21682198607;const r={adTagUrl:"//pubads.g.doubleclick.net/gampad/ads?sz=640x360|640x480&iu=/1053551/Pub-Poki-Generic&ciu_szs&impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&url={url}&description_url={descriptionUrl}&correlator={timestamp}",adTiming:{preroll:!1,timeBetweenAds:12e4,timePerTry:7e3,startAdsAfter:12e4},waterfallRetries:2};var s=a(893),c=a(573),d=a(298),l=a(262);function u(e){var t="/".concat(o,"/debug-display/debug-display-").concat(e),n="desktop";return(0,s.Z)()?n="mobile":(0,c.Z)()&&(n="tablet"),d.Z.debug||(t=l.Z.isPokiIframe?"/".concat(o,"/").concat(n,"_ingame_").concat(e,"/").concat(l.Z.siteID,"_").concat(n,"_ingame_").concat(e):"/".concat(o,"/external_").concat(n,"_display_ingame/external_").concat(n,"_ingame_").concat(e)),t}var p=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},f=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(n=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};const v=function(){var e=window.location.pathname;"/"!==e[0]&&(e="/".concat(e));var t=encodeURIComponent("".concat(window.location.protocol,"//").concat(window.location.host).concat(e).concat(window.location.search)),n=encodeURIComponent(document.referrer),i="https://devs-api.poki.com/gameinfo/@sdk?href=".concat(t,"&referrer=").concat(n);return fetch(i,{method:"GET",headers:{"Content-Type":"text/plain"}}).then((function(e){return p(void 0,void 0,void 0,(function(){var t;return f(this,(function(n){switch(n.label){case 0:return e.status>=200&&e.status<400?[4,e.json()]:[3,2];case 1:return(t=n.sent()).game_id?[2,{gameID:t.game_id,gameTitle:t.game_name,playtestLobbyID:t.playtest_lobby_id,playtestRecord:t.playtest_record,cachedContentGameID:t.cached_content_game_id,specialConditions:t.ad_settings.special_conditions,adTiming:{preroll:t.ad_settings.preroll,timePerTry:t.ad_settings.time_per_try,timeBetweenAds:t.ad_settings.time_between_ads,startAdsAfter:t.ad_settings.start_ads_after}}]:[2,void 0];case 2:throw e}}))}))})).catch((function(e){return function(e){return p(this,void 0,void 0,(function(){var t,n,i,o,r,a,s,c,d,l,u,p;return f(this,(function(f){switch(f.label){case 0:console.error(e),f.label=1;case 1:return f.trys.push([1,4,,5]),"/"!==(t=window.location.pathname)[0]&&(t="/".concat(t)),o=(i=JSON).stringify,l={c:"sdk-p4d-error",ve:7},u={k:"error"},a=(r=JSON).stringify,p={status:e.status},(s=e.json)?[4,e.json()]:[3,3];case 2:s=f.sent(),f.label=3;case 3:if(n=o.apply(i,[(l.d=[(u.v=a.apply(r,[(p.json=s,p.body=JSON.stringify({href:"".concat(window.location.protocol,"//").concat(window.location.host).concat(t).concat(window.location.search)}),p.name=e.name,p.message=e.message,p)]),u)],l)]),c="https://t.poki.io/l",navigator.sendBeacon)navigator.sendBeacon(c,n);else try{(d=new XMLHttpRequest).open("POST",c,!0),d.send(n)}catch(e){}return[3,5];case 4:return f.sent(),[3,5];case 5:return[2]}}))}))}(e)}))};const m=function(e){return e instanceof Array?e:[e]};var g=a(58);const h=function(){function e(e){void 0===e&&(e={}),this.setTimings(e),this.timingIdx={timePerTry:0},this.timers={timePerTry:void 0,timeBetweenAds:void 0,startAdsAfter:void 0},(null==e?void 0:e.fake)||(g.Z.addEventListener(t.Z.ads.requested,this.startTimeBetweenAdsTimer.bind(this)),g.Z.addEventListener(t.Z.ads.completed,this.startTimeBetweenAdsTimer.bind(this)),g.Z.addEventListener(t.Z.ads.stopped,this.startTimeBetweenAdsTimer.bind(this)))}return e.prototype.setTimings=function(e){var t=r.adTiming,n=e.preroll,i=void 0===n?t.preroll:n,o=e.timePerTry,a=void 0===o?t.timePerTry:o,s=e.timeBetweenAds,c=void 0===s?t.timeBetweenAds:s,d=e.startAdsAfter,l=void 0===d?t.startAdsAfter:d;this.timings={preroll:!1!==i,timePerTry:m(a),timeBetweenAds:c,startAdsAfter:l}},e.prototype.resetAll=function(){this.timingIdx={timePerTry:0},this.stopTimer("timePerTry"),this.stopTimer("timeBetweenAds"),this.stopTimer("startAdsAfter")},e.prototype.startTimeBetweenAdsTimer=function(){this.startTimer("timeBetweenAds")},e.prototype.startStartAdsAfterTimer=function(){this.startTimer("startAdsAfter")},e.prototype.requestPossible=function(){return!this.timers.timeBetweenAds&&!this.timers.startAdsAfter},e.prototype.startWaterfallTimer=function(e){this.startTimer("timePerTry",e)},e.prototype.stopWaterfallTimer=function(){this.stopTimer("timePerTry")},e.prototype.nextWaterfallTimer=function(){this.nextTiming("timePerTry")},e.prototype.resetWaterfallTimerIdx=function(){this.resetTimingIdx("timePerTry")},e.prototype.stopTimer=function(e){this.timers[e]&&(clearTimeout(this.timers[e]),this.timers[e]=void 0)},e.prototype.startTimer=function(e,t){var n=this;void 0===t&&(t=function(){}),this.getTiming(e)<=0?t():(this.timers[e]&&clearTimeout(this.timers[e]),this.timers[e]=window.setTimeout((function(){n.stopTimer(e),t()}),this.getTiming(e)))},e.prototype.getTiming=function(e){var t=this.timings[e];return t instanceof Array?t[this.timingIdx[e]]:t},e.prototype.nextTiming=function(e){if(void 0===this.timingIdx[e])throw new Error("AdTimings Error: ".concat(e," does not have multiple timers"));this.timingIdx[e]=(this.timingIdx[e]+1)%this.timings[e].length},e.prototype.resetTimingIdx=function(e){if(void 0===this.timingIdx[e])throw new Error("AdTimings Error: ".concat(e," does not have multiple timers"));this.timingIdx[e]=0},e.prototype.prerollPossible=function(){return this.timings.preroll},e}();var y=a(57);var k="MacIntel"===window.navigator.platform&&void 0!==window.navigator.standalone&&navigator.maxTouchPoints>1;var w=a(128);function b(e){if(document.body&&document.body.appendChild){var t=document.createElement("iframe");t.style.display="none",document.body.appendChild(t),t.contentWindow&&(t.contentWindow.document.open(),t.contentWindow.document.write("<script>".concat(e,"<\/script>")),t.contentWindow.document.close())}else document.addEventListener("DOMContentLoaded",(function(){b(e)}))}function S(){b("\nwindow.addEventListener('storage', function(event) {\n\ttry {\n\t\tconst key = event.key;\n\n\t\t// key is null when localStorage.clear() is called.\n\t\tif (key === null) {\n\t\t\twindow.top.postMessage({\n\t\t\t\ttype: 'mutateSaveGame',\n\t\t\t\tcontent: {\n\t\t\t\t\taction: 'clear',\n\t\t\t\t},\n\t\t\t}, '*');\n\t\t\treturn;\n\t\t}\n\n\t\t// newValue is null when localStorage.removeItem() is called.\n\t\tif (event.newValue === null) {\n\t\t\twindow.top.postMessage({\n\t\t\t\ttype: 'mutateSaveGame',\n\t\t\t\tcontent: {\n\t\t\t\t\taction: 'delete',\n\t\t\t\t\tkey,\n\t\t\t\t},\n\t\t\t}, '*');\n\t\t} else {\n\t\t\twindow.top.postMessage({\n\t\t\t\ttype: 'mutateSaveGame',\n\t\t\t\tcontent: {\n\t\t\t\t\taction: 'set',\n\t\t\t\t\tkey,\n\t\t\t\t\tvalue: event.newValue,\n\t\t\t\t},\n\t\t\t}, '*');\n\t\t}\n\t} catch (e) {}\n});\n")}var A=function(){l.Z.isPokiIframe&&(setTimeout(w.Z.trackSavegames,1e4),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&S())},T=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},Z=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(n=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},_="none",x="requesting";const E=function(){function e(){var e=this;this.callbacks={},this.adTiming=r.adTiming,this.adBlocked=!1,this.rounds=1,this.stopMessages=!1,this.mutationChecker=new MutationObserver(this.mutationObserved.bind(this)),this.videoState=_,this.adTimings=new h({fake:!0}),this.init=function(n){var i=n.onReady,o=void 0===i?null:i,u=n.onAdblocked,p=void 0===u?null:u;A();var f=function(){e.callbacks.playgroundInit=function(t){e.stopMessages=!0,e.adBlocked=t,e.adBlocked&&(null==p||p()),null==o||o()};var t=function(){e.stopMessages||(e.postSDKMessage("adTiming",{adTiming:e.adTiming,specialConditions:e.specialConditions}),e.rounds++,e.adBlocked||setTimeout(t,100*e.rounds))};setTimeout(t,100*e.rounds)};if(l.Z.forceAd)return e.adTiming={preroll:!0,timeBetweenAds:12e4,timePerTry:7e3,startAdsAfter:0},void f();d.Z.debug?f():v().then((function(n){if(e.adTiming=(null==n?void 0:n.adTiming)||r.adTiming,e.specialConditions=(null==n?void 0:n.specialConditions)||[],f(),n){var i=function(e){var n,i=l.Z.playtest;if(i)return{lobbyID:i,record:!1};i=(null==e?void 0:e.playtestLobbyID)||void 0;var o=(null==e?void 0:e.playtestRecord)||!1;if(i||o){var r="4g"===(null===(n=navigator.connection)||void 0===n?void 0:n.effectiveType)&&!(0,s.Z)()&&!(0,c.Z)()&&l.Z.isPokiIframe&&!k&&"GB"!==l.Z.country;if(y.Z.track(t.Z.tracking.playtest.showModal,{show:r}),r)return{lobbyID:i,record:o}}return{lobbyID:void 0,record:!1}}(n),o=i.lobbyID,d=i.record;(o||d)&&a.e(545).then(a.bind(a,545)).then((function(e){(0,e.initPlaytest)(n,o,d)}))}})).catch((function(){f()}))},this.postSDKMessage=function(i,o){return void 0===o&&(o={}),T(e,void 0,void 0,(function(){return Z(this,(function(e){return n.Z.sendMessage(t.Z.message.sendCommand,{event:i,data:o},window.top),[2]}))}))},this.handleMessageReceived=function(n){var i,o,r,a,s,c,d,l,u,p,f,v,m;switch(null===(i=null==n?void 0:n.data)||void 0===i?void 0:i.type){case"hoist_displayAd_onDisplayRendered":var h=null===(o=null==n?void 0:n.data)||void 0===o?void 0:o.data,y=h.opportunityId,k=h.isEmpty;null===(a=null===(r=e.callbacks[y])||void 0===r?void 0:r.onDisplayRendered)||void 0===a||a.call(r,k);break;case"hoist_displayAd_onCanDestroy":y=(null===(s=null==n?void 0:n.data)||void 0===s?void 0:s.data).opportunityId;null===(d=null===(c=e.callbacks[y])||void 0===c?void 0:c.onCanDestroy)||void 0===d||d.call(c);break;case"hoist_videoAd_onStart":y=(null===(l=null==n?void 0:n.data)||void 0===l?void 0:l.data).opportunityId;if(e.videoState!==x)return;if(!e.callbacks[y])return;var w=e.callbacks[y],b=w.onStart,S=w.position;b&&b(),g.Z.dispatchEvent(t.Z.playtest.startVideo,{position:S}),e.videoState="playing";break;case"hoist_videoAd_onFinish":var A=null===(u=null==n?void 0:n.data)||void 0===u?void 0:u.data,T=(y=A.opportunityId,A.rewardAllowed);if(!e.callbacks[y])return;var Z=e.callbacks[y],E=Z.onFinish;S=Z.position;if(e.videoState===x)return E&&(S===t.Z.ads.position.rewarded?E(!!T):E()),e.videoState=_,void delete e.callbacks[y];E&&E(T),g.Z.dispatchEvent(t.Z.playtest.stopVideo),e.videoState=_,delete e.callbacks[y];break;case"hoist_playgroundInit":var I=(null===(p=null==n?void 0:n.data)||void 0===p?void 0:p.data).adBlocked;null===(v=(f=e.callbacks).playgroundInit)||void 0===v||v.call(f,I),delete e.callbacks.playgroundInit;break;case"hoist_displayAd_destroy":var C=(null===(m=null==n?void 0:n.data)||void 0===m?void 0:m.data).containerID;e.cleanAdContainer(C)}},this.cleanAdContainer=function(e){var t=document.querySelector('*[data-poki-ad-container-id="'.concat(e,'"]'));if(t){for(;t.lastChild;)t.removeChild(t.lastChild);t.removeAttribute("data-poki-opportunity-id"),t.removeAttribute("data-poki-ad-container-id")}}}return e.prototype.forcePreroll=function(){this.postSDKMessage("forcePreroll")},e.prototype.startStartAdsAfterTimer=function(){this.postSDKMessage("startStartAdsAfterTimer")},e.prototype.isAdBlocked=function(){return"GB"!==l.Z.country&&this.adBlocked},e.prototype.muteAd=function(){this.postSDKMessage("muteAd")},e.prototype.setVolume=function(e){this.postSDKMessage("setVolume",{volume:e||1})},e.prototype.requestAd=function(e){var n=e.onStart,o=e.onFinish,r=e.position,a=e.customCriteria,s=(0,i.Z)();this.videoState===_?(this.videoState=x,this.callbacks[s]={position:r,onStart:function(){n&&"function"==typeof n&&n()},onFinish:function(e){o&&"function"==typeof o&&o({rewardAllowed:e})}},this.postSDKMessage("requestVideoAd",{position:r,customCriteria:a,opportunityId:s})):o&&(r===t.Z.tracking.screen.rewardedBreak?o({rewardAllowed:!1}):o())},e.prototype.displayAd=function(e){var t,n=e.container,o=e.size,r=e.opportunityId,a=e.onCanDestroy,s=e.onDisplayRendered;if(!n)return console.error("displayAd: given container doesn't exist"),!1;var c=n.getAttribute("data-poki-ad-container-id")||(0,i.Z)();this.cleanAdContainer(c),n.setAttribute("data-poki-ad-container-id",c),n.setAttribute("data-poki-opportunity-id",r);var d=o.split("x").map((function(e){return parseInt(e,10)})),l=d[0],p=d[1],f=document.createElement("div");f.style.width="".concat(l,"px"),f.style.height="".concat(p,"px"),f.style.overflow="hidden",f.style.position="relative",f.style.pointerEvents="none",n.appendChild(f);var v=n.getBoundingClientRect(),m={x:(null==v?void 0:v.x)||0,y:(null==v?void 0:v.y)||0,w:l||0,h:p||0};return this.callbacks[r]={onCanDestroy:function(){a&&"function"==typeof a&&a()},onDisplayRendered:function(e){s&&"function"==typeof s&&s(e)}},this.mutationChecker.observe(n.parentElement||document.body,{childList:!0}),this.mutationChecker.observe(n,{attributes:!0,attributeFilter:["style"]}),this.postSDKMessage("displayAd",{containerID:c,adUnitPath:u(o),size:e.size,opportunityId:r,duringGameplay:(null===(t=e.duringGameplay)||void 0===t?void 0:t.call(e))||!1,location:m}),!0},e.prototype.destroyAd=function(e){if(e){var t=e.getAttribute("data-poki-opportunity-id"),n=e.getAttribute("data-poki-ad-container-id");n&&(delete this.callbacks[t],this.cleanAdContainer(n),this.postSDKMessage("destroyAd",{containerID:n,opportunityId:t}))}else console.error("destroyAd: given container doesn't exist")},e.prototype.mutationObserved=function(e){var t=this;e.forEach((function(e){var n,i,o,r,a;"childList"===(null==e?void 0:e.type)&&(null===(i=null===(n=e.removedNodes)||void 0===n?void 0:n.forEach)||void 0===i||i.call(n,(function(e){var n;(null===(n=null==e?void 0:e.getAttribute)||void 0===n?void 0:n.call(e,"data-poki-ad-container-id"))&&t.destroyAd(e)}))),"attributes"===(null==e?void 0:e.type)&&(null===(r=null===(o=null==e?void 0:e.target)||void 0===o?void 0:o.getAttribute)||void 0===r?void 0:r.call(o,"data-poki-ad-container-id"))&&("none"===(null==(a=e.target)?void 0:a.style.display)||parseInt(a.style.opacity,10)<1||"hidden"===a.style.visibility)&&t.destroyAd(e.target)}))},e.prototype.stopVideoAd=function(){},e.prototype.resizeVideoAd=function(){},e.prototype.setAdTimings=function(e){},e.prototype.setSpecialConditions=function(e){},e}();var I,C=(I=function(e,t){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},I(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}I(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});var P=new(function(e){function t(){var t=this,n=new E;return(t=e.call(this,n)||this).SDK=n,window.addEventListener("message",t.monetization.handleMessageReceived),t}return C(t,e),t}(e.Z));for(var O in P)window.PokiSDK[O]=P[O]})()})();